---
- name: "CICD test project"
 hosts: all
 become: yes
 tasks:
 - name: "Installing GIT"
 when: ansible_os_family == "RedHat"
 yum:
 name: git
 state: present
 - name: "Installing GIT on Ubuntu"
 when: ansible_os_family == "Debian"
 apt:
 update_cache: yes
 name: git
 state: present
 - name: "Cloning git repo"
 git:
 repo: <Git_Repository_URL>
 dest: /tmp/repo
 - name: "Creating binary directory"
 file:
 path: /root/bin
 state: directory
 - name: "Copying files to bin directory"
 copy:
 src: "{{ item }}"
 dest: /root/bin/
 remote_src: yes
 with_items:
 - /home/repo/test_file_1
 - /home/repo/test_file_2
